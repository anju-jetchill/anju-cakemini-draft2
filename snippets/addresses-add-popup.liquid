{%- capture html -%}
    <div class="address-form">
        {% form 'customer_address', customer.new_address %}
            <h3 class="grey">Shipping Address</h3>
            <div class="address-form__fields">
                <label class="field--text">
                    <input type="text" name="address[first_name]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.first_name }}" placeholder="First Name" />
                </label>

                <label class="field--text">
                    <input type="text" name="address[last_name]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.last_name }}" placeholder="Last Name" />
                </label>

                <label class="field--text">
                    <input type="text" name="address[company]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.company }}" placeholder="Company" />
                </label>

                <label class="field--text">
                    <input type="text" name="address[address1]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.address1 }}" placeholder="Address 1" />
                </label>

                <label class="field--text">
                    <input type="text" name="address[address2]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.address2 }}" placeholder="Address 2" />
                </label>

                <label class="field--text">
                    <input type="text" name="address[city]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.city }}" placeholder="City" />
                </label>

                <label class="field--select">
                    <select id="address_country_new" name="address[country]" data-default="{{form.country}}">{{ country_option_tags }}</select>
                </label>

                <label class="field--select" id="address_province_container_new" style="display:none">
                    <select id="address_province_new" class="address_form" name="address[province]" data-default="{{form.province}}"></select>
                </label>

                <label class="field--text">
                    <input type="text" name="address[zip]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.zip }}" placeholder="Postal Code" />
                </label>

                <label class="field--text">
                    <input type="tel" name="address[phone]" onkeyup="this.setAttribute('value', this.value);" value="{{ form.phone }}" placeholder="Phone Number" />
                </label>

                <label class="faux-checkbox">{{ form.set_as_default_checkbox }}Set as Default Address?</label>

                <input class="btn btn--pill btn--green" type="submit" value="Save" />    
            </div>   
        {% endform %}
    </div>
{%- endcapture -%}

<div class="address-popup"  id="add-address">
    <div class="address-popup__curtain" onclick="AddressAdd.hide();"></div>
    <div class="address-popup__wrap">
        <div class="address-popup__content">
            <div class="address-popup__head">
                <h2>Add Address</h2>
                <button class="address-popup__close" onclick="AddressAdd.hide();">{%- render 'svg.cross' -%}</button>
            </div>

            {{ html }}
        </div>
    </div>
</div>

<script>
    window.AddressAdd = {

        visibleClass : 'add-address-popup--isVisible',

        show : function() {
            document.documentElement.classList.add(AddressAdd.visibleClass);
        },

        hide : function() {
            document.documentElement.classList.remove(AddressAdd.visibleClass);
        }
    }
</script>
